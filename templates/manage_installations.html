{% extends 'base.html' %}
{% load static %}
{% block title %}Gestionar Instalaciones de {{ company.name }}{% endblock %}

{% block content %}
<div class="d-flex justify-content-between align-items-center mb-3">
    <h2>Instalaciones de: <strong>{{ company.name }}</strong></h2>
    <a href="{% url 'create_installation' company.id %}" class="btn btn-success">A침adir Instalaci칩n</a>
</div>

<table class="table table-striped table-hover">
    <thead>
        <tr>
            <th>Nombre Instalaci칩n</th>
            <th>Direcci칩n</th>
            <th>Acciones</th>
        </tr>
    </thead>
    <tbody>
        {% for installation in installations %}
        <tr style="border-left: 4px solid {% cycle '#4e73df' '#1cc88a' '#36b9cc' '#f6c23e' '#e74a3b' '#9b59b6' '#fd7e14' '#20c997' '#6f42c1' '#dc3545' %};">
            <td>
                <div style="display: flex; align-items: center;">
                    <i class="fas {% cycle 'fa-building' 'fa-warehouse' 'fa-store' 'fa-home' 'fa-hospital' 'fa-school' 'fa-university' 'fa-clinic-medical' 'fa-fire-station' 'fa-industry' %} me-2" 
                       style="color: {% cycle '#4e73df' '#1cc88a' '#36b9cc' '#f6c23e' '#e74a3b' '#9b59b6' '#fd7e14' '#20c997' '#6f42c1' '#dc3545' %}; font-size: 1.2em;"></i>
                    <span style="color: {% cycle '#4e73df' '#1cc88a' '#36b9cc' '#f6c23e' '#e74a3b' '#9b59b6' '#fd7e14' '#20c997' '#6f42c1' '#dc3545' %}; font-weight: 600;">{{ installation.name }}</span>
                </div>
            </td>
            <td>{{ installation.address|default:"N/A" }}</td>
            <td>
                <a href="{% url 'edit_installation' installation.id %}" class="btn btn-sm btn-warning">Editar</a>
                <a href="{% url 'delete_installation' installation.id %}" class="btn btn-sm btn-danger">Eliminar</a>
            </td>
        </tr>
        {% empty %}
        <tr>
            <td colspan="3" class="text-center">Esta empresa no tiene instalaciones registradas.</td>
        </tr>
        {% endfor %}
    </tbody>
</table>

<a href="{% url 'manage_companies' %}" class="btn btn-secondary mt-3">Volver a Empresas</a>
{% endblock %}